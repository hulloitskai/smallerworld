/**
 * Generated by: Claude Sonnet 4
 * Last modified: 2025-01-09 10:45:00 UTC
 *
 * This code was AI-generated and may require human review and testing.
 */

export interface SpriteCoordinate {
  x: number;
  y: number;
}

export type AnimationFrames = SpriteCoordinate[];

export type Animation =
  | "idle"
  | "alert"
  | "scratch-self"
  | "scratch-wall-north"
  | "scratch-wall-south"
  | "scratch-wall-east"
  | "scratch-wall-west"
  | "tired"
  | "sleeping"
  | "move-north"
  | "move-northeast"
  | "move-east"
  | "move-southeast"
  | "move-south"
  | "move-southwest"
  | "move-west"
  | "move-northwest";

export const NEKO_SIZE = 32;

export const SPRITE_SETS: Record<Animation, AnimationFrames> = {
  idle: [{ x: -3, y: -3 }],
  alert: [{ x: -7, y: -3 }],
  "scratch-self": [
    { x: -5, y: 0 },
    { x: -6, y: 0 },
    { x: -7, y: 0 },
  ],
  "scratch-wall-north": [
    { x: 0, y: 0 },
    { x: 0, y: -1 },
  ],
  "scratch-wall-south": [
    { x: -7, y: -1 },
    { x: -6, y: -2 },
  ],
  "scratch-wall-east": [
    { x: -2, y: -2 },
    { x: -2, y: -3 },
  ],
  "scratch-wall-west": [
    { x: -4, y: 0 },
    { x: -4, y: -1 },
  ],
  tired: [{ x: -3, y: -2 }],
  sleeping: [
    { x: -2, y: 0 },
    { x: -2, y: -1 },
  ],
  "move-north": [
    { x: -1, y: -2 },
    { x: -1, y: -3 },
  ],
  "move-northeast": [
    { x: 0, y: -2 },
    { x: 0, y: -3 },
  ],
  "move-east": [
    { x: -3, y: 0 },
    { x: -3, y: -1 },
  ],
  "move-southeast": [
    { x: -5, y: -1 },
    { x: -5, y: -2 },
  ],
  "move-south": [
    { x: -6, y: -3 },
    { x: -7, y: -2 },
  ],
  "move-southwest": [
    { x: -5, y: -3 },
    { x: -6, y: -1 },
  ],
  "move-west": [
    { x: -4, y: -2 },
    { x: -4, y: -3 },
  ],
  "move-northwest": [
    { x: -1, y: 0 },
    { x: -1, y: -1 },
  ],
};

/**
 * Calculate the background position for a sprite frame
 */
export const getSpriteBackgroundPosition = (
  animation: Animation,
  frame: number,
): string => {
  const frames = SPRITE_SETS[animation];
  const sprite = frames[frame % frames.length]!;
  const bgPosX = sprite.x * NEKO_SIZE;
  const bgPosY = sprite.y * NEKO_SIZE;
  return [bgPosX, bgPosY].map(rem).join(" ");
};
